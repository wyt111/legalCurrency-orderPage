{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\payment\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\payment\\index.vue","mtime":1648089586504},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJwYXltZW50IHBhZyIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG9yZGVyU3RhdHVzOiAibG9hZGluZyIsIC8vc3VjY2VzcyBlcnJvciBsb2FkaW5nDQogICAgICB0aW1lVmFsdWU6IDAsDQogICAgICB0aW1lVGV4dDogJzAwOjAwJywNCiAgICAgIGNvbG9yczogWw0KICAgICAgICB7Y29sb3I6ICcjNDQ3OUQ5J30sDQogICAgICBdLA0KICAgICAgaW5mb09iamVjdDoge30sDQogICAgICBjb3VudERvd246IG51bGwsDQogICAgICBidXR0b25TdGF0ZTogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlbC1wcm9ncmVzc19fdGV4dCcpWzBdLmlubmVyVGV4dCA9ICcwMDowMCc7DQogICAgdGhpcy5xdWVyeUluZm8oKTsNCiAgICB0aGlzLmNvdW50RG93biA9IHNldEludGVydmFsKCgpPT57DQogICAgICB0aGlzLnF1ZXJ5SW5mbygpOw0KICAgIH0sMTAwMCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBxdWVyeUluZm8oKXsNCiAgICAgIGxldCBiYXNlVXJsID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImJhc2VVcmwiKQ0KICAgICAgbGV0IHBhcmFtcyA9IHsNCiAgICAgICAgInN5c09yZGVyTnVtIjogdGhpcy4kc3RvcmUuc3RhdGUuc3lzT3JkZXJOdW0gLy9BUEkxNDg2NjAyMDI3NDgzMTQwMDkgQVBJMTQ5NjM3OTM5MDIzNjQzMDMzDQogICAgICB9DQogICAgICB0aGlzLiRheGlvcy5wb3N0KGJhc2VVcmwgKyB0aGlzLiRhcGkucG9zdF9pbmZvLCBwYXJhbXMpLnRoZW4ocmVzPT57DQogICAgICAgIGlmKHJlcy5kYXRhKXsNCiAgICAgICAgICB0aGlzLmJ1dHRvblN0YXRlID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLmluZm9PYmplY3QgPSByZXMuZGF0YQ0KICAgICAgICAgIGlmKHRoaXMuaW5mb09iamVjdC5wYXlTdGF0dXMgPT09IDApew0KICAgICAgICAgICAgdGhpcy5vcmRlclN0YXR1cyA9ICdsb2FkaW5nJzsNCiAgICAgICAgICB9ZWxzZSBpZih0aGlzLmluZm9PYmplY3QucGF5U3RhdHVzID09PSAxKXsNCiAgICAgICAgICAgIC8vIHRoaXMub3JkZXJTdGF0dXMgPSAnc3VjY2Vzcyc7DQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuaW5mb09iamVjdC5yZXR1cm5UbzsNCiAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRoaXMub3JkZXJTdGF0dXMgPSAnZXJyb3InOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHRoaXMuaW5mb09iamVjdC5yZW1haW5pbmdQYXltZW50VGltZSAtPSAxOw0KICAgICAgICAgIHRoaXMudHVybk1pbnV0ZSh0aGlzLmluZm9PYmplY3QucmVtYWluaW5nUGF5bWVudFRpbWUpDQogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZWwtcHJvZ3Jlc3NfX3RleHQnKVswXSA/DQogICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VsLXByb2dyZXNzX190ZXh0JylbMF0uaW5uZXJUZXh0ID0gdGhpcy50aW1lVGV4dCA6ICcnOw0KICAgICAgICAgIHRoaXMuaW5mb09iamVjdC5yZW1haW5pbmdQYXltZW50VGltZSA9PT0gMCA/IGNsZWFySW50ZXJ2YWwodGhpcy5jb3VudERvd24pIDogJyc7DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICB0dXJuTWludXRlKHZhbHVlKXsNCiAgICAgIHZhciBzZWNvbmQgPSB2YWx1ZTsNCiAgICAgIHZhciBtaW51dGU9MDsNCiAgICAgIG1pbnV0ZSA9IHBhcnNlSW50KHNlY29uZC82MCk7DQogICAgICBzZWNvbmQlPTYwOw0KICAgICAgaWYobWludXRlPjYwKSB7DQogICAgICAgIG1pbnV0ZSU9NjA7DQogICAgICB9DQogICAgICBzZWNvbmQgPSBzZWNvbmQ+OT9zZWNvbmQ6IjAiK3NlY29uZDsNCiAgICAgIG1pbnV0ZSA9IG1pbnV0ZT45P21pbnV0ZToiMCIrbWludXRlOw0KICAgICAgdGhpcy50aW1lVGV4dCA9IG1pbnV0ZSsiOiIrc2Vjb25kOw0KICAgICAgdGhpcy50aW1lVmFsdWUgPSAodmFsdWUgLyAzNjAwKSoxMDA7DQogICAgICB0aGlzLnRpbWVWYWx1ZSA+IDEwMCA/IHRoaXMudGltZVZhbHVlID0gMTAwIDogJyc7DQogICAgfSwNCiAgICB0b0xpbmsoKXsNCiAgICAgIGlmKHRoaXMuYnV0dG9uU3RhdGUgPT09IHRydWUpew0KICAgICAgICBpZih0aGlzLm9yZGVyU3RhdHVzID09PSAnc3VjY2Vzcycpew0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5pbmZvT2JqZWN0LnJldHVyblRvOw0KICAgICAgICB9ZWxzZSBpZih0aGlzLm9yZGVyU3RhdHVzID09PSAnZXJyb3InKXsNCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuaW5mb09iamVjdC5jYW5jZWxUbzsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmluZm9PYmplY3QuZGVlcGxpbms7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGJhY2soKXsNCiAgICAgIHRoaXMuYnV0dG9uU3RhdGUgPT09IHRydWUgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAke3RoaXMuaW5mb09iamVjdC5jYW5jZWxUb31gIDogJyc7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/payment","sourcesContent":["<template>\r\n  <div id=\"index\">\r\n<!--    <header>-->\r\n<!--      <div class=\"navigation\" @click=\"back\"><img src=\"@/assets/leftIcon.svg\" /></div>-->\r\n<!--    </header>-->\r\n    <div class=\"content\">\r\n      <div class=\"amountMoney\">{{ infoObject.orderAmount }} USDT</div>\r\n      <div class=\"orderStatus\">\r\n        <div class=\"orderStatus_img\">\r\n          <div v-if=\"orderStatus === 'loading'\">\r\n            <el-progress type=\"circle\" :width=\"130\" :stroke-width=10 :percentage=\"timeValue\" :color=\"colors\"></el-progress>\r\n          </div>\r\n          <img v-if=\"orderStatus === 'success'\" src=\"@/assets/successIcon.png\"/>\r\n          <img v-if=\"orderStatus === 'error'\" src=\"@/assets/errorIcon.png\" />\r\n        </div>\r\n        <div class=\"orderStatus_text\">\r\n          <span v-if=\"orderStatus === 'success'\">{{ infoObject.payDesc }}</span>\r\n          <span v-else-if=\"orderStatus === 'error'\">{{$t('nav.orderTimeoutText')}}</span>\r\n          <span v-else>{{$t('nav.advancePayment')}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"loading_text\" v-if=\"orderStatus === 'loading'\">{{ $t('nav.completeReturn') }}</div>\r\n      <div\r\n        class=\"informationBar\"\r\n        :class=\"{ informationBar_success: orderStatus === 'loading' }\"\r\n        v-if=\"orderStatus === 'success' || orderStatus === 'loading'\"\r\n      >\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.transactionAmount') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatAmount }} {{ infoObject.fiat }}</div>\r\n        </div>\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.exchangeRate') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatToUsdtRate }} {{ infoObject.fiat }}/{{ infoObject.coin }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"errorText\" v-else>\r\n        {{ $t('nav.orderTimeout') }}\r\n      </div>\r\n<!--      <footer>-->\r\n<!--        <div class=\"goButton\" @click=\"toLink\">-->\r\n<!--          <div class=\"returnButton\" v-if=\"orderStatus === 'success' || orderStatus === 'error'\">-->\r\n<!--            {{ $t('nav.returnTo') }} {{ infoObject.mchName }}-->\r\n<!--            <img src=\"@/assets/rightIcon.png\">-->\r\n<!--          </div>-->\r\n<!--          <img src=\"@/assets/biaIcon.png\" v-else />-->\r\n<!--        </div>-->\r\n<!--        <div class=\"comeFrom\">-->\r\n<!--          <div class=\"comeFrom_text\">Powered By</div>-->\r\n<!--          <div class=\"comeFrom_logo\"><img src=\"@/assets/achLogo.png\" /></div>-->\r\n<!--        </div>-->\r\n<!--      </footer>-->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"payment pag\",\r\n  data() {\r\n    return {\r\n      orderStatus: \"loading\", //success error loading\r\n      timeValue: 0,\r\n      timeText: '00:00',\r\n      colors: [\r\n        {color: '#4479D9'},\r\n      ],\r\n      infoObject: {},\r\n      countDown: null,\r\n      buttonState: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    document.getElementsByClassName('el-progress__text')[0].innerText = '00:00';\r\n    this.queryInfo();\r\n    this.countDown = setInterval(()=>{\r\n      this.queryInfo();\r\n    },1000);\r\n  },\r\n  methods: {\r\n    queryInfo(){\r\n      let baseUrl = localStorage.getItem(\"baseUrl\")\r\n      let params = {\r\n        \"sysOrderNum\": this.$store.state.sysOrderNum //API148660202748314009 API149637939023643033\r\n      }\r\n      this.$axios.post(baseUrl + this.$api.post_info, params).then(res=>{\r\n        if(res.data){\r\n          this.buttonState = true;\r\n          this.infoObject = res.data\r\n          if(this.infoObject.payStatus === 0){\r\n            this.orderStatus = 'loading';\r\n          }else if(this.infoObject.payStatus === 1){\r\n            // this.orderStatus = 'success';\r\n            window.location.href = this.infoObject.returnTo;\r\n          }else{\r\n            this.orderStatus = 'error';\r\n          }\r\n\r\n          this.infoObject.remainingPaymentTime -= 1;\r\n          this.turnMinute(this.infoObject.remainingPaymentTime)\r\n          document.getElementsByClassName('el-progress__text')[0] ?\r\n              document.getElementsByClassName('el-progress__text')[0].innerText = this.timeText : '';\r\n          this.infoObject.remainingPaymentTime === 0 ? clearInterval(this.countDown) : '';\r\n        }\r\n      })\r\n    },\r\n    turnMinute(value){\r\n      var second = value;\r\n      var minute=0;\r\n      minute = parseInt(second/60);\r\n      second%=60;\r\n      if(minute>60) {\r\n        minute%=60;\r\n      }\r\n      second = second>9?second:\"0\"+second;\r\n      minute = minute>9?minute:\"0\"+minute;\r\n      this.timeText = minute+\":\"+second;\r\n      this.timeValue = (value / 3600)*100;\r\n      this.timeValue > 100 ? this.timeValue = 100 : '';\r\n    },\r\n    toLink(){\r\n      if(this.buttonState === true){\r\n        if(this.orderStatus === 'success'){\r\n          window.location.href = this.infoObject.returnTo;\r\n        }else if(this.orderStatus === 'error'){\r\n          window.location.href = this.infoObject.cancelTo;\r\n        }else{\r\n          window.location.href = this.infoObject.deeplink;\r\n        }\r\n      }\r\n    },\r\n    back(){\r\n      this.buttonState === true ? window.location.href = `${this.infoObject.cancelTo}` : '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml,\r\nbody,\r\n#index {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#index {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .content {\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n//.navigation {\r\n//  display: flex;\r\n//  padding: 0.1rem 0.2rem;\r\n//  img {\r\n//    width: 0.18rem;\r\n//  }\r\n//}\r\n.amountMoney {\r\n  font-size: 0.24rem;\r\n  font-family: Jost-SemiBold, Jost;\r\n  font-weight: 600;\r\n  color: #000000;\r\n  text-align: center;\r\n  margin-top: 0.16rem;\r\n}\r\n.orderStatus {\r\n  .orderStatus_text {\r\n    font-size: 0.18rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    margin-top: 0.2rem;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_img {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 0.3rem;\r\n    &>div{\r\n      display: flex;\r\n    }\r\n    img {\r\n      width: 0.6rem;\r\n    }\r\n  }\r\n  .orderStatus_text_success {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #02af38;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_text_error {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #ff0000;\r\n    text-align: center;\r\n  }\r\n}\r\n.loading_text {\r\n  font-size: 0.14rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  margin-top: 0.1rem;\r\n  padding: 0.1rem 0.3rem 0 0.3rem;\r\n  text-align: center;\r\n}\r\n.informationBar {\r\n  margin: 0.6rem 0.2rem 0 0.2rem;\r\n  padding: 0.05rem 0.2rem;\r\n  background: #f3f4f5;\r\n  border-radius: 4px;\r\n  .informationBar_line {\r\n    display: flex;\r\n    margin-top: 0.15rem;\r\n    font-size: 0.14rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    .number {\r\n      margin-left: auto;\r\n    }\r\n    &:last-child {\r\n      margin-bottom: 0.15rem;\r\n    }\r\n  }\r\n}\r\n.informationBar_success {\r\n  margin-top: 0.2rem;\r\n}\r\n.errorText {\r\n  font-size: 0.16rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  text-align: center;\r\n  margin: 0.2rem 0.18rem 0 0.18rem;\r\n}\r\n//footer{\r\n//  margin-top: 0.4rem;\r\n//}\r\n//.goButton {\r\n//  margin: 0 0.2rem;\r\n//  display: flex;\r\n//  .returnButton{\r\n//    width: 100%;\r\n//    height: 0.44rem;\r\n//    background: #4479D9;\r\n//    border-radius: 4px;\r\n//    line-height: 0.44rem;\r\n//    text-align: center;\r\n//    font-size: 0.16rem;\r\n//    font-family: Jost-SemiBold, Jost;\r\n//    font-weight: 600;\r\n//    color: #FFFFFF;\r\n//    position: relative;\r\n//    img{\r\n//      position: absolute;\r\n//      top: 0.14rem;\r\n//      right: 0.19rem;\r\n//      width: 0.27rem;\r\n//      height: 0.16rem;\r\n//    }\r\n//  }\r\n//  img {\r\n//    width: 100%;\r\n//    height: 100%;\r\n//  }\r\n//}\r\n//.comeFrom {\r\n//  width: 100%;\r\n//  display: flex;\r\n//  justify-content: center;\r\n//  position: fixed;\r\n//  bottom: 0.2rem;\r\n//\r\n//  .comeFrom_text {\r\n//    font-size: 0.12rem;\r\n//    font-family: Jost-Regular, Jost;\r\n//    font-weight: 400;\r\n//    color: #000000;\r\n//  }\r\n//  .comeFrom_logo {\r\n//    display: flex;\r\n//    margin-left: 0.1rem;\r\n//    img {\r\n//      height: 0.16rem;\r\n//    }\r\n//  }\r\n//}\r\n\r\n.orderStatus_img ::v-deep .el-progress__text{\r\n  font-size: 0.18rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #4479D9;\r\n}\r\n.orderStatus_img ::v-deep .el-progress-circle{\r\n  height: 1.3rem !important;\r\n  width: 1.3rem !important;\r\n}\r\n</style>\r\n"]}]}