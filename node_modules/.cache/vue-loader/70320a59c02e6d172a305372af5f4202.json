{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\binancePayment\\index.vue?vue&type=style&index=0&id=9d1c6518&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\binancePayment\\index.vue","mtime":1648465356757},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmh0bWwsDQpib2R5LA0KI2luZGV4IHsNCiAgd2lkdGg6IDEwMCU7DQogIGhlaWdodDogMTAwJTsNCn0NCiNpbmRleCB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIC5jb250ZW50IHsNCiAgICBmbGV4OiAxOw0KICAgIG92ZXJmbG93OiBhdXRvOw0KICB9DQp9DQovLy5uYXZpZ2F0aW9uIHsNCi8vICBkaXNwbGF5OiBmbGV4Ow0KLy8gIHBhZGRpbmc6IDAuMXJlbSAwLjJyZW07DQovLyAgaW1nIHsNCi8vICAgIHdpZHRoOiAwLjE4cmVtOw0KLy8gIH0NCi8vfQ0KLmFtb3VudE1vbmV5IHsNCiAgZm9udC1zaXplOiAwLjI0cmVtOw0KICBmb250LWZhbWlseTogSm9zdC1TZW1pQm9sZCwgSm9zdDsNCiAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgY29sb3I6ICMwMDAwMDA7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgbWFyZ2luLXRvcDogMC4xNnJlbTsNCn0NCi5vcmRlclN0YXR1cyB7DQogIC5vcmRlclN0YXR1c190ZXh0IHsNCiAgICBmb250LXNpemU6IDAuMThyZW07DQogICAgZm9udC1mYW1pbHk6IEpvc3QtUmVndWxhciwgSm9zdDsNCiAgICBmb250LXdlaWdodDogNDAwOw0KICAgIGNvbG9yOiAjMDAwMDAwOw0KICAgIG1hcmdpbi10b3A6IDAuMnJlbTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIH0NCiAgLm9yZGVyU3RhdHVzX2ltZyB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIG1hcmdpbi10b3A6IDAuM3JlbTsNCiAgICAmPmRpdnsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgfQ0KICAgIGltZyB7DQogICAgICB3aWR0aDogMC42cmVtOw0KICAgIH0NCiAgfQ0KICAub3JkZXJTdGF0dXNfdGV4dF9zdWNjZXNzIHsNCiAgICBtYXJnaW4tdG9wOiAwLjFyZW07DQogICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICBjb2xvcjogIzAyYWYzODsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIH0NCiAgLm9yZGVyU3RhdHVzX3RleHRfZXJyb3Igew0KICAgIG1hcmdpbi10b3A6IDAuMXJlbTsNCiAgICBmb250LXdlaWdodDogNjAwOw0KICAgIGNvbG9yOiAjZmYwMDAwOw0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgfQ0KfQ0KLmxvYWRpbmdfdGV4dCB7DQogIGZvbnQtc2l6ZTogMC4xNHJlbTsNCiAgZm9udC1mYW1pbHk6IEpvc3QtUmVndWxhciwgSm9zdDsNCiAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgY29sb3I6ICM2NjY2NjY7DQogIG1hcmdpbi10b3A6IDAuMXJlbTsNCiAgcGFkZGluZzogMC4xcmVtIDAuM3JlbSAwIDAuM3JlbTsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KLmluZm9ybWF0aW9uQmFyIHsNCiAgbWFyZ2luOiAwLjZyZW0gMC4ycmVtIDAgMC4ycmVtOw0KICBwYWRkaW5nOiAwLjA1cmVtIDAuMnJlbTsNCiAgYmFja2dyb3VuZDogI2YzZjRmNTsNCiAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAuaW5mb3JtYXRpb25CYXJfbGluZSB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBtYXJnaW4tdG9wOiAwLjE1cmVtOw0KICAgIGZvbnQtc2l6ZTogMC4xNHJlbTsNCiAgICBmb250LWZhbWlseTogSm9zdC1SZWd1bGFyLCBKb3N0Ow0KICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgY29sb3I6ICMwMDAwMDA7DQogICAgLm51bWJlciB7DQogICAgICBtYXJnaW4tbGVmdDogYXV0bzsNCiAgICB9DQogICAgJjpsYXN0LWNoaWxkIHsNCiAgICAgIG1hcmdpbi1ib3R0b206IDAuMTVyZW07DQogICAgfQ0KICB9DQp9DQouaW5mb3JtYXRpb25CYXJfc3VjY2VzcyB7DQogIG1hcmdpbi10b3A6IDAuMnJlbTsNCn0NCi5lcnJvclRleHQgew0KICBmb250LXNpemU6IDAuMTZyZW07DQogIGZvbnQtZmFtaWx5OiBKb3N0LVJlZ3VsYXIsIEpvc3Q7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGNvbG9yOiAjNjY2NjY2Ow0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogIG1hcmdpbjogMC4ycmVtIDAuMThyZW0gMCAwLjE4cmVtOw0KfQ0KZm9vdGVyew0KICBtYXJnaW4tdG9wOiAwLjRyZW07DQp9DQouZ29CdXR0b24gew0KICBtYXJnaW46IDAgMC4ycmVtOw0KICBkaXNwbGF5OiBmbGV4Ow0KICAucmV0dXJuQnV0dG9uew0KICAgIHdpZHRoOiAxMDAlOw0KICAgIGhlaWdodDogMC40NHJlbTsNCiAgICBiYWNrZ3JvdW5kOiAjNDQ3OUQ5Ow0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICBsaW5lLWhlaWdodDogMC40NHJlbTsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgZm9udC1zaXplOiAwLjE2cmVtOw0KICAgIGZvbnQtZmFtaWx5OiBKb3N0LVNlbWlCb2xkLCBKb3N0Ow0KICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgY29sb3I6ICNGRkZGRkY7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIGltZ3sNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHRvcDogMC4xNHJlbTsNCiAgICAgIHJpZ2h0OiAwLjE5cmVtOw0KICAgICAgd2lkdGg6IDAuMjdyZW07DQogICAgICBoZWlnaHQ6IDAuMTZyZW07DQogICAgfQ0KICB9DQogIGltZyB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgaGVpZ2h0OiAxMDAlOw0KICB9DQp9DQoNCi5vcmRlclN0YXR1c19pbWcgOjp2LWRlZXAgLmVsLXByb2dyZXNzX190ZXh0ew0KICBmb250LXNpemU6IDAuMThyZW07DQogIGZvbnQtZmFtaWx5OiBKb3N0LVJlZ3VsYXIsIEpvc3Q7DQogIGZvbnQtd2VpZ2h0OiA0MDA7DQogIGNvbG9yOiAjNDQ3OUQ5Ow0KfQ0KLm9yZGVyU3RhdHVzX2ltZyA6OnYtZGVlcCAuZWwtcHJvZ3Jlc3MtY2lyY2xlew0KICBoZWlnaHQ6IDEuM3JlbSAhaW1wb3J0YW50Ow0KICB3aWR0aDogMS4zcmVtICFpbXBvcnRhbnQ7DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/binancePayment","sourcesContent":["<template>\r\n  <div id=\"index\">\r\n<!--    <header>-->\r\n<!--      <div class=\"navigation\" @click=\"back\"><img src=\"@/assets/leftIcon.svg\" /></div>-->\r\n<!--    </header>-->\r\n    <div class=\"content\">\r\n      <div class=\"amountMoney\">{{ infoObject.orderAmount }} USDT</div>\r\n      <div class=\"orderStatus\">\r\n        <div class=\"orderStatus_img\">\r\n          <div v-if=\"orderStatus === 'loading'\">\r\n            <el-progress type=\"circle\" :width=\"130\" :stroke-width=10 :percentage=\"timeValue\" :color=\"colors\"></el-progress>\r\n          </div>\r\n          <img v-if=\"orderStatus === 'success'\" src=\"@/assets/successIcon.png\"/>\r\n          <img v-if=\"orderStatus === 'error'\" src=\"@/assets/errorIcon.png\" />\r\n        </div>\r\n        <div class=\"orderStatus_text\" v-if=\"infoObject.isPrePay !== 0\">\r\n          <span v-if=\"orderStatus === 'success'\">{{ infoObject.payDesc }}</span>\r\n          <span v-else-if=\"orderStatus === 'error'\">{{$t('nav.binancePayment_orderTimeoutText')}}</span>\r\n          <span v-else>{{$t('nav.binancePayment_advancePayment')}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"loading_text\" v-if=\"orderStatus === 'loading' && infoObject.isPrePay !== 0\">{{ $t('nav.binancePayment_completeReturn') }}</div>\r\n      <div\r\n        class=\"informationBar\"\r\n        :class=\"{ informationBar_success: orderStatus === 'loading' }\"\r\n        v-if=\"orderStatus === 'success' || orderStatus === 'loading'\"\r\n      >\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.binancePayment_transactionAmount') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatAmount }} {{ infoObject.fiat }}</div>\r\n        </div>\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.binancePayment_exchangeRate') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatToUsdtRate }} {{ infoObject.fiat }}/{{ infoObject.coin }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"errorText\" v-else>\r\n        {{ $t('nav.binancePayment_orderTimeout') }}\r\n      </div>\r\n      <footer>\r\n        <div class=\"goButton\" @click=\"toLink\">\r\n          <div class=\"returnButton\" v-if=\"orderStatus === 'success' || orderStatus === 'error'\">\r\n            {{ $t('nav.binancePayment_returnTo') }} {{ infoObject.mchName }}\r\n            <img src=\"@/assets/rightIcon.png\">\r\n          </div>\r\n          <img src=\"@/assets/biaIcon.png\" v-else />\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport i18n from \"@/utils/i18n\";\r\n\r\nexport default {\r\n  name: \"binancePayment\",\r\n  data() {\r\n    return {\r\n      orderStatus: \"loading\", //success error loading\r\n      timeValue: 0,\r\n      timeText: '00:00',\r\n      colors: [\r\n        {color: '#4479D9'},\r\n      ],\r\n      infoObject: {},\r\n      countDown: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    document.getElementsByClassName('el-progress__text')[0].innerText = '00:00';\r\n    if(this.$route.path === '/binancePayment' && this.$store.state.binancePayment_locale !== ''){\r\n      this.$store.state.binancePayment_locale == 'null' ? this.$store.state.binancePayment_locale = 'EN' : '';\r\n      i18n.locale = this.$store.state.binancePayment_locale;\r\n    }\r\n    this.queryInfo();\r\n    this.countDown = setInterval(()=>{\r\n      this.queryInfo();\r\n    },1000);\r\n  },\r\n  destroyed(){\r\n    i18n.locale = this.$store.state.language;\r\n    clearInterval(this.countDown);\r\n  },\r\n  methods: {\r\n    queryInfo(){\r\n      let params1 = {\r\n        \"sysOrderNum\": localStorage.getItem(\"sysOrderNum\"), //API148660202748314009 API149637939023643033\r\n        \"payMent\": this.$store.state.paymentType.payType,\r\n        \"email\": this.$store.state.paymentEmail,\r\n      }\r\n      let params2 = {\r\n        \"sysOrderNum\": localStorage.getItem(\"sysOrderNum\"),\r\n      }\r\n      let methodsName = this.$store.state.binancePayment === 'payList' ? this.$api.post_qrPay : this.$api.post_info;\r\n      let overParams = this.$store.state.binancePayment === 'payList' ? params1 : params2;\r\n      this.$axios.post(methodsName, overParams).then(res=>{\r\n        if(res.data){\r\n          this.infoObject = res.data\r\n          //Hide the title bar when there are payment results - this.$parent.navigationBarState\r\n          if(this.infoObject.payStatus === 0){\r\n            this.orderStatus = 'loading';\r\n          }else if(this.infoObject.payStatus === 1){\r\n            // this.orderStatus = 'success';\r\n            window.location.href = this.infoObject.returnTo;\r\n            this.$parent.$refs.headerRef.routerNameState = false;\r\n          }else{\r\n            this.orderStatus = 'error';\r\n            this.$parent.$refs.headerRef.routerNameState = false;\r\n          }\r\n          this.infoObject.remainingPaymentTime -= 1;\r\n          this.turnMinute(this.infoObject.remainingPaymentTime)\r\n          document.getElementsByClassName('el-progress__text')[0] ?\r\n              document.getElementsByClassName('el-progress__text')[0].innerText = this.timeText : '';\r\n          if(this.infoObject.remainingPaymentTime <= 0){\r\n            clearInterval(this.countDown);\r\n            this.$store.state.resultData = res.data;\r\n            this.$store.state.resultData.payStatus = 4;\r\n            this.$router.push(\"/overpayment\");\r\n          }\r\n        }\r\n      })\r\n    },\r\n    turnMinute(value){\r\n      if(value > 0){\r\n        var second = value;\r\n        var minute=0;\r\n        minute = parseInt(second/60);\r\n        second%=60;\r\n        if(minute>60) {\r\n          minute%=60;\r\n        }\r\n        second = second>9?second:\"0\"+second;\r\n        minute = minute>9?minute:\"0\"+minute;\r\n        this.timeText = minute+\":\"+second;\r\n        this.timeValue = (value / 3600)*100;\r\n        this.timeValue > 100 ? this.timeValue = 100 : '';\r\n      }\r\n    },\r\n    toLink(){\r\n      if(this.orderStatus === 'success'){\r\n        window.location.href = this.infoObject.returnTo;\r\n      }else if(this.orderStatus === 'error'){\r\n        window.location.href = this.infoObject.cancelTo;\r\n      }else{\r\n        window.location.href = this.infoObject.deeplink;\r\n      }\r\n    },\r\n    back(){\r\n      window.location.href = `${this.infoObject.cancelTo}`;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml,\r\nbody,\r\n#index {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#index {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .content {\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n//.navigation {\r\n//  display: flex;\r\n//  padding: 0.1rem 0.2rem;\r\n//  img {\r\n//    width: 0.18rem;\r\n//  }\r\n//}\r\n.amountMoney {\r\n  font-size: 0.24rem;\r\n  font-family: Jost-SemiBold, Jost;\r\n  font-weight: 600;\r\n  color: #000000;\r\n  text-align: center;\r\n  margin-top: 0.16rem;\r\n}\r\n.orderStatus {\r\n  .orderStatus_text {\r\n    font-size: 0.18rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    margin-top: 0.2rem;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_img {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 0.3rem;\r\n    &>div{\r\n      display: flex;\r\n    }\r\n    img {\r\n      width: 0.6rem;\r\n    }\r\n  }\r\n  .orderStatus_text_success {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #02af38;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_text_error {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #ff0000;\r\n    text-align: center;\r\n  }\r\n}\r\n.loading_text {\r\n  font-size: 0.14rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  margin-top: 0.1rem;\r\n  padding: 0.1rem 0.3rem 0 0.3rem;\r\n  text-align: center;\r\n}\r\n.informationBar {\r\n  margin: 0.6rem 0.2rem 0 0.2rem;\r\n  padding: 0.05rem 0.2rem;\r\n  background: #f3f4f5;\r\n  border-radius: 4px;\r\n  .informationBar_line {\r\n    display: flex;\r\n    margin-top: 0.15rem;\r\n    font-size: 0.14rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    .number {\r\n      margin-left: auto;\r\n    }\r\n    &:last-child {\r\n      margin-bottom: 0.15rem;\r\n    }\r\n  }\r\n}\r\n.informationBar_success {\r\n  margin-top: 0.2rem;\r\n}\r\n.errorText {\r\n  font-size: 0.16rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  text-align: center;\r\n  margin: 0.2rem 0.18rem 0 0.18rem;\r\n}\r\nfooter{\r\n  margin-top: 0.4rem;\r\n}\r\n.goButton {\r\n  margin: 0 0.2rem;\r\n  display: flex;\r\n  .returnButton{\r\n    width: 100%;\r\n    height: 0.44rem;\r\n    background: #4479D9;\r\n    border-radius: 4px;\r\n    line-height: 0.44rem;\r\n    text-align: center;\r\n    font-size: 0.16rem;\r\n    font-family: Jost-SemiBold, Jost;\r\n    font-weight: 600;\r\n    color: #FFFFFF;\r\n    position: relative;\r\n    img{\r\n      position: absolute;\r\n      top: 0.14rem;\r\n      right: 0.19rem;\r\n      width: 0.27rem;\r\n      height: 0.16rem;\r\n    }\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n.orderStatus_img ::v-deep .el-progress__text{\r\n  font-size: 0.18rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #4479D9;\r\n}\r\n.orderStatus_img ::v-deep .el-progress-circle{\r\n  height: 1.3rem !important;\r\n  width: 1.3rem !important;\r\n}\r\n</style>\r\n"]}]}