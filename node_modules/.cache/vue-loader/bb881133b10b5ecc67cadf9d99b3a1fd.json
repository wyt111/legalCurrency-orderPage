{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\payment\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\src\\view\\payment\\index.vue","mtime":1647916357041},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ThinkPad\\Desktop\\vue-demo\\项目\\legalCurrency-orderPage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaTE4biBmcm9tICIuLi8uLi90b29sL2kxOG4iOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicGF5bWVudCBwYWciLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBvcmRlclN0YXR1czogImxvYWRpbmciLCAvL3N1Y2Nlc3MgZXJyb3IgbG9hZGluZw0KICAgICAgdGltZVZhbHVlOiAwLA0KICAgICAgdGltZVRleHQ6ICcwMDowMCcsDQogICAgICBjb2xvcnM6IFsNCiAgICAgICAge2NvbG9yOiAnIzQ0NzlEOSd9LA0KICAgICAgXSwNCiAgICAgIGluZm9PYmplY3Q6IHt9LA0KICAgICAgY291bnREb3duOiBudWxsLA0KICAgICAgYnV0dG9uU3RhdGU6IGZhbHNlLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy4kcm91dGUucXVlcnkubG9jYWxlICE9PSAnJyYmdGhpcy4kcm91dGUucXVlcnkubG9jYWxlIT11bmRlZmluZWQgPyBpMThuLmxvY2FsZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmxvY2FsZSA6ICcnOw0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2VsLXByb2dyZXNzX190ZXh0JylbMF0uaW5uZXJUZXh0ID0gJzAwOjAwJzsNCiAgICB0aGlzLnF1ZXJ5SW5mbygpOw0KICAgIHRoaXMuY291bnREb3duID0gc2V0SW50ZXJ2YWwoKCk9PnsNCiAgICAgIHRoaXMucXVlcnlJbmZvKCk7DQogICAgfSwxMDAwKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHF1ZXJ5SW5mbygpew0KICAgICAgbGV0IGJhc2VVcmwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYmFzZVVybCIpDQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICAic3lzT3JkZXJOdW0iOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCAvL0FQSTE0ODY2MDIwMjc0ODMxNDAwOSBBUEkxNDk2Mzc5MzkwMjM2NDMwMzMNCiAgICAgIH0NCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoYmFzZVVybCArIHRoaXMuJGFwaS5wb3N0X2luZm8sIHBhcmFtcykudGhlbihyZXM9PnsNCiAgICAgICAgaWYocmVzLmRhdGEpew0KICAgICAgICAgIHRoaXMuYnV0dG9uU3RhdGUgPSB0cnVlOw0KICAgICAgICAgIHRoaXMuaW5mb09iamVjdCA9IHJlcy5kYXRhDQogICAgICAgICAgaWYodGhpcy5pbmZvT2JqZWN0LnBheVN0YXR1cyA9PT0gMCl7DQogICAgICAgICAgICB0aGlzLm9yZGVyU3RhdHVzID0gJ2xvYWRpbmcnOw0KICAgICAgICAgIH1lbHNlIGlmKHRoaXMuaW5mb09iamVjdC5wYXlTdGF0dXMgPT09IDEpew0KICAgICAgICAgICAgLy8gdGhpcy5vcmRlclN0YXR1cyA9ICdzdWNjZXNzJzsNCiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5pbmZvT2JqZWN0LnJldHVyblRvOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdGhpcy5vcmRlclN0YXR1cyA9ICdlcnJvcic7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgdGhpcy5pbmZvT2JqZWN0LnJlbWFpbmluZ1BheW1lbnRUaW1lIC09IDE7DQogICAgICAgICAgdGhpcy50dXJuTWludXRlKHRoaXMuaW5mb09iamVjdC5yZW1haW5pbmdQYXltZW50VGltZSkNCiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlbC1wcm9ncmVzc19fdGV4dCcpWzBdID8NCiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZWwtcHJvZ3Jlc3NfX3RleHQnKVswXS5pbm5lclRleHQgPSB0aGlzLnRpbWVUZXh0IDogJyc7DQogICAgICAgICAgdGhpcy5pbmZvT2JqZWN0LnJlbWFpbmluZ1BheW1lbnRUaW1lID09PSAwID8gY2xlYXJJbnRlcnZhbCh0aGlzLmNvdW50RG93bikgOiAnJzsNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHR1cm5NaW51dGUodmFsdWUpew0KICAgICAgdmFyIHNlY29uZCA9IHZhbHVlOw0KICAgICAgdmFyIG1pbnV0ZT0wOw0KICAgICAgbWludXRlID0gcGFyc2VJbnQoc2Vjb25kLzYwKTsNCiAgICAgIHNlY29uZCU9NjA7DQogICAgICBpZihtaW51dGU+NjApIHsNCiAgICAgICAgbWludXRlJT02MDsNCiAgICAgIH0NCiAgICAgIHNlY29uZCA9IHNlY29uZD45P3NlY29uZDoiMCIrc2Vjb25kOw0KICAgICAgbWludXRlID0gbWludXRlPjk/bWludXRlOiIwIittaW51dGU7DQogICAgICB0aGlzLnRpbWVUZXh0ID0gbWludXRlKyI6IitzZWNvbmQ7DQogICAgICB0aGlzLnRpbWVWYWx1ZSA9ICh2YWx1ZSAvIDM2MDApKjEwMDsNCiAgICAgIHRoaXMudGltZVZhbHVlID4gMTAwID8gdGhpcy50aW1lVmFsdWUgPSAxMDAgOiAnJzsNCiAgICB9LA0KICAgIHRvTGluaygpew0KICAgICAgaWYodGhpcy5idXR0b25TdGF0ZSA9PT0gdHJ1ZSl7DQogICAgICAgIGlmKHRoaXMub3JkZXJTdGF0dXMgPT09ICdzdWNjZXNzJyl7DQogICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB0aGlzLmluZm9PYmplY3QucmV0dXJuVG87DQogICAgICAgIH1lbHNlIGlmKHRoaXMub3JkZXJTdGF0dXMgPT09ICdlcnJvcicpew0KICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGhpcy5pbmZvT2JqZWN0LmNhbmNlbFRvOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuaW5mb09iamVjdC5kZWVwbGluazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgYmFjaygpew0KICAgICAgdGhpcy5idXR0b25TdGF0ZSA9PT0gdHJ1ZSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYCR7dGhpcy5pbmZvT2JqZWN0LmNhbmNlbFRvfWAgOiAnJzsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/payment","sourcesContent":["<template>\r\n  <div id=\"index\">\r\n    <header>\r\n      <div class=\"navigation\" @click=\"back\"><img src=\"@/assets/leftIcon.svg\" /></div>\r\n    </header>\r\n    <div class=\"content\">\r\n      <div class=\"amountMoney\">{{ infoObject.orderAmount }} USDT</div>\r\n      <div class=\"orderStatus\">\r\n        <div class=\"orderStatus_img\">\r\n          <div v-if=\"orderStatus === 'loading'\">\r\n            <el-progress type=\"circle\" :width=\"130\" :stroke-width=10 :percentage=\"timeValue\" :color=\"colors\"></el-progress>\r\n          </div>\r\n          <img v-if=\"orderStatus === 'success'\" src=\"@/assets/successIcon.png\"/>\r\n          <img v-if=\"orderStatus === 'error'\" src=\"@/assets/errorIcon.png\" />\r\n        </div>\r\n        <div class=\"orderStatus_text\">\r\n          <span v-if=\"orderStatus === 'success'\">{{ infoObject.payDesc }}</span>\r\n          <span v-else-if=\"orderStatus === 'error'\">{{$t('nav.orderTimeoutText')}}</span>\r\n          <span v-else>{{$t('nav.advancePayment')}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"loading_text\" v-if=\"orderStatus === 'loading'\">{{ $t('nav.completeReturn') }}</div>\r\n      <div\r\n        class=\"informationBar\"\r\n        :class=\"{ informationBar_success: orderStatus === 'loading' }\"\r\n        v-if=\"orderStatus === 'success' || orderStatus === 'loading'\"\r\n      >\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.transactionAmount') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatAmount }} {{ infoObject.fiat }}</div>\r\n        </div>\r\n        <div class=\"informationBar_line\">\r\n          <div class=\"title\">{{ $t('nav.exchangeRate') }}:</div>\r\n          <div class=\"number\">{{ infoObject.fiatToUsdtRate }} {{ infoObject.fiat }}/{{ infoObject.coin }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"errorText\" v-else>\r\n        {{ $t('nav.orderTimeout') }}\r\n      </div>\r\n      <footer>\r\n        <div class=\"goButton\" @click=\"toLink\">\r\n          <div class=\"returnButton\" v-if=\"orderStatus === 'success' || orderStatus === 'error'\">\r\n            {{ $t('nav.returnTo') }} {{ infoObject.mchName }}\r\n            <img src=\"@/assets/rightIcon.png\">\r\n          </div>\r\n          <img src=\"@/assets/biaIcon.png\" v-else />\r\n        </div>\r\n        <div class=\"comeFrom\">\r\n          <div class=\"comeFrom_text\">Powered By</div>\r\n          <div class=\"comeFrom_logo\"><img src=\"@/assets/achLogo.png\" /></div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport i18n from \"../../tool/i18n\";\r\nexport default {\r\n  name: \"payment pag\",\r\n  data() {\r\n    return {\r\n      orderStatus: \"loading\", //success error loading\r\n      timeValue: 0,\r\n      timeText: '00:00',\r\n      colors: [\r\n        {color: '#4479D9'},\r\n      ],\r\n      infoObject: {},\r\n      countDown: null,\r\n      buttonState: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$route.query.locale !== ''&&this.$route.query.locale!=undefined ? i18n.locale = this.$route.query.locale : '';\r\n    document.getElementsByClassName('el-progress__text')[0].innerText = '00:00';\r\n    this.queryInfo();\r\n    this.countDown = setInterval(()=>{\r\n      this.queryInfo();\r\n    },1000);\r\n  },\r\n  methods: {\r\n    queryInfo(){\r\n      let baseUrl = localStorage.getItem(\"baseUrl\")\r\n      let params = {\r\n        \"sysOrderNum\": this.$route.query.id //API148660202748314009 API149637939023643033\r\n      }\r\n      this.$axios.post(baseUrl + this.$api.post_info, params).then(res=>{\r\n        if(res.data){\r\n          this.buttonState = true;\r\n          this.infoObject = res.data\r\n          if(this.infoObject.payStatus === 0){\r\n            this.orderStatus = 'loading';\r\n          }else if(this.infoObject.payStatus === 1){\r\n            // this.orderStatus = 'success';\r\n            window.location.href = this.infoObject.returnTo;\r\n          }else{\r\n            this.orderStatus = 'error';\r\n          }\r\n\r\n          this.infoObject.remainingPaymentTime -= 1;\r\n          this.turnMinute(this.infoObject.remainingPaymentTime)\r\n          document.getElementsByClassName('el-progress__text')[0] ?\r\n              document.getElementsByClassName('el-progress__text')[0].innerText = this.timeText : '';\r\n          this.infoObject.remainingPaymentTime === 0 ? clearInterval(this.countDown) : '';\r\n        }\r\n      })\r\n    },\r\n    turnMinute(value){\r\n      var second = value;\r\n      var minute=0;\r\n      minute = parseInt(second/60);\r\n      second%=60;\r\n      if(minute>60) {\r\n        minute%=60;\r\n      }\r\n      second = second>9?second:\"0\"+second;\r\n      minute = minute>9?minute:\"0\"+minute;\r\n      this.timeText = minute+\":\"+second;\r\n      this.timeValue = (value / 3600)*100;\r\n      this.timeValue > 100 ? this.timeValue = 100 : '';\r\n    },\r\n    toLink(){\r\n      if(this.buttonState === true){\r\n        if(this.orderStatus === 'success'){\r\n          window.location.href = this.infoObject.returnTo;\r\n        }else if(this.orderStatus === 'error'){\r\n          window.location.href = this.infoObject.cancelTo;\r\n        }else{\r\n          window.location.href = this.infoObject.deeplink;\r\n        }\r\n      }\r\n    },\r\n    back(){\r\n      this.buttonState === true ? window.location.href = `${this.infoObject.cancelTo}` : '';\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml,\r\nbody,\r\n#index {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n#index {\r\n  display: flex;\r\n  flex-direction: column;\r\n  .content {\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n}\r\n.navigation {\r\n  display: flex;\r\n  padding: 0.1rem 0.2rem;\r\n  img {\r\n    width: 0.18rem;\r\n  }\r\n}\r\n.amountMoney {\r\n  font-size: 0.24rem;\r\n  font-family: Jost-SemiBold, Jost;\r\n  font-weight: 600;\r\n  color: #000000;\r\n  text-align: center;\r\n  margin-top: 0.16rem;\r\n}\r\n.orderStatus {\r\n  .orderStatus_text {\r\n    font-size: 0.18rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    margin-top: 0.2rem;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_img {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 0.3rem;\r\n    &>div{\r\n      display: flex;\r\n    }\r\n    img {\r\n      width: 0.6rem;\r\n    }\r\n  }\r\n  .orderStatus_text_success {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #02af38;\r\n    text-align: center;\r\n  }\r\n  .orderStatus_text_error {\r\n    margin-top: 0.1rem;\r\n    font-weight: 600;\r\n    color: #ff0000;\r\n    text-align: center;\r\n  }\r\n}\r\n.loading_text {\r\n  font-size: 0.14rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  margin-top: 0.1rem;\r\n  padding: 0.1rem 0.3rem 0 0.3rem;\r\n  text-align: center;\r\n}\r\n.informationBar {\r\n  margin: 0.6rem 0.2rem 0 0.2rem;\r\n  padding: 0.05rem 0.2rem;\r\n  background: #f3f4f5;\r\n  border-radius: 4px;\r\n  .informationBar_line {\r\n    display: flex;\r\n    margin-top: 0.15rem;\r\n    font-size: 0.14rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n    .number {\r\n      margin-left: auto;\r\n    }\r\n    &:last-child {\r\n      margin-bottom: 0.15rem;\r\n    }\r\n  }\r\n}\r\n.informationBar_success {\r\n  margin-top: 0.2rem;\r\n}\r\n.errorText {\r\n  font-size: 0.16rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  text-align: center;\r\n  margin: 0.2rem 0.18rem 0 0.18rem;\r\n}\r\nfooter{\r\n  margin-top: 0.4rem;\r\n}\r\n.goButton {\r\n  margin: 0 0.2rem;\r\n  display: flex;\r\n  .returnButton{\r\n    width: 100%;\r\n    height: 0.44rem;\r\n    background: #4479D9;\r\n    border-radius: 4px;\r\n    line-height: 0.44rem;\r\n    text-align: center;\r\n    font-size: 0.16rem;\r\n    font-family: Jost-SemiBold, Jost;\r\n    font-weight: 600;\r\n    color: #FFFFFF;\r\n    position: relative;\r\n    img{\r\n      position: absolute;\r\n      top: 0.14rem;\r\n      right: 0.19rem;\r\n      width: 0.27rem;\r\n      height: 0.16rem;\r\n    }\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n}\r\n.comeFrom {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  position: fixed;\r\n  bottom: 0.2rem;\r\n\r\n  .comeFrom_text {\r\n    font-size: 0.12rem;\r\n    font-family: Jost-Regular, Jost;\r\n    font-weight: 400;\r\n    color: #000000;\r\n  }\r\n  .comeFrom_logo {\r\n    display: flex;\r\n    margin-left: 0.1rem;\r\n    img {\r\n      height: 0.16rem;\r\n    }\r\n  }\r\n}\r\n\r\n.orderStatus_img ::v-deep .el-progress__text{\r\n  font-size: 0.18rem;\r\n  font-family: Jost-Regular, Jost;\r\n  font-weight: 400;\r\n  color: #4479D9;\r\n}\r\n.orderStatus_img ::v-deep .el-progress-circle{\r\n  height: 1.3rem !important;\r\n  width: 1.3rem !important;\r\n}\r\n</style>\r\n"]}]}